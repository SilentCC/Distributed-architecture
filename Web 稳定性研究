Web 稳定性研究：

一，基础知识的准备
	
	1.Web的系统架构：B/S 架构――――Browser/Server 。即为浏览器+服务器的架构模式，我们所见的网站都是这种架构模式。
					 C/S 架构――――Client/Server。 为客户端+服务器的架构模式，一般我们所用的游戏，LOL，CF都是这种架构。C/S架构不注重考虑客户端和服务器之间的响应速度，而注重安全性。而网站的B/S架构需要考虑到用户使用浏览器的流畅性。也就是服务器和浏览器的数据传输的速度要快。

	2.Web的服务器：apache服务器。

			1）进程和线程的区别：进程是某一个具有独立功能的程序的运行活动，它可以申请系统资源，是一个活动的实体。二线程的范围要比进程小，一个进程可以拥有多个线程。我们把进程作为分配资源的基本单位，而把线程作为独立运行和独立调用的基本单位。
			
			2）Web中的TCP/IP协议：连接建立三次次握手：
					a.在A给B传输数据之前，A先发送SYN包，请求连接;
					b.B接受到SYN包，同时自己发送一个SYN+ACK 确认连接；
					c.A收到B发送的SYN+ACK包，向B发送ACK，AB进入链接状态；
				
			3）http请求模型：prefork,worker,event.我们可以在apache中查看服务器的请求模型
					a.perfork:使用多个进程，每个子进程只有一个线程，一个线程只能维持一个连接。效率高，但是内存使用的很多
					b.worker:使用多个进程，每个进程拥有多个线程，每个线程只能维持一个连接。通常在一个高流量的HTTP服务器上使用worker比较好，因为，使用内存较少


			4）http协议是在TCP协议的基础上的。Http报文中Connetction:Keep-alive 表示是长连接

			5）http,tcp/ip,socket的区别：tcp/ip是传输层的基本协议，它规定了数据怎么样在网络中传输。而http是应用层的一个协议，http协议以tcp/ip协议为基础，规定了传送数据的内容。WEB使用http协议作为应用层协议，以分装http文本信息，然后使用TCP/IP作为传输层协议将它发到网络上。那么Socket是什么呢，Socket是封装TCP协议，是使用TCP的接口，事实上Socket还可以使用别的传输层的协议。创建Socket急于tcp协议的时候，实际上就是建立了一个tcp连接。tcp协议的基础是网络层的ip协议。我们的Web使用http协议，服务器如果想给客户端发送数据，必须等客户端发来一个请求，然后才能发数据给客户端。如果使用Socket的话，服务器就可以主动给客户端发送数据。

	3.Web的长连接和短连接。	

			1）长连接：就是值在TCP建立连接之后，传送完数据，需要双发发送检测包来维持这个连接，所以TCP连接一直保持，下次传送数据的时候就不要再次建立TCP连接了。
			2）短连接：就是传送一个数据之后就关闭了TCP连接。所以作为点对点的连接，需要频繁的读写，适合用长连接，而诸如Web这种多访问的网站需要短连接。


二，服务器主动发送数据给浏览器怎么做
	
	1.客户端暴力的循环请求，ajax轮询。
	2.基于HTTP长连接的服务器推送技术。
	3.基于WebSocket的推送方案。
	4.SSE：服务器推送数据的新方式。


	1.ajax轮询：
		无非是在就是ajax死循环发送请求，
		
	
	